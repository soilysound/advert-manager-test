# Change Log
All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](http://keepachangelog.com/)
and this project adheres to [Semantic Versioning](http://semver.org/).

## v16.0.0
### Changed
- Update dependencies to fix security errors
- Update all paths from `sdc-project-base` to `ui-project-base`
- Fixes to build tools to support newer webpack syntax
- Use Terser for minifying javascript
- Package file paths now in config object
- Javascript ui components now use a `default` method

### Added
- New css gap vars and classes
- New dark mode css utilities
- New build tool for css files

## v15.1.0
### Added
- SSW-7051 - adding transition time for tiles as variable
- SSW-7040: more Watch section colours

## v15.0.0
### Added
- SGA-1013: Requires `sdc-article-image` at version 2.0.0 or above *(Breaking)*
- SGA-1013: Requires `sdc-site-video` at version 4.0.0 or above *(Breaking)*
- SGA-1013: Moved `ui-media-caption` styles to `/css/base/v2/ui/media-caption` *(Breaking)*
- SGA-1013: Added `text-decoration-skip-ink: auto` to link styles
- SGA-1013: Changed cpation styles to use `ui-media-caption` from project-base *(Breaking)*
- SGA-1013: Vars file for mobile sports apps
- SGA-1013: Simplified article-image skin
- SGA-1013: Tidied css var names - already scoped to components so shorter names possible
- SGA-1013: Moved article body width to `:root` scope
- SGA-1013: Applied gitlab pipes fix

## v14.11.0
### Changed
- HEXA-2070: Changed the HEX value for the tennis nav bar background colour

## v14.10.0
### Added
- Update checkconsent to allow consent if consent has been granted for that vendor elsewhere  

## v14.9.0
### Added
- Add new party colors for council elections

## v14.8.0
### Added
- SSW-6684: Watch section colours

## v14.7.0
### Added
- V2 CSS

## v14.6.0
### Changed
- HEXA-1809: Removed sdc-site-table skin overrides which are no longer needed (as of component v2.10.0)
- HEXA-1809: Added a condition to glints styles so they don't apply when `.noskin` class is present on the element

## v14.5.1
### Added
- HEXA-1829: Applied double-margin negation styles to `ui-cricket-scorecard`

## v14.5.0
### Added
- A11y colour swatches for Cricket

## v14.4.0
### Changed
- Padding for `sdc-site-component-header` applies to wrapper element.

## v14.3.0
### Added
- sdc-project-base-static export option

## v14.2.0
### Changed
- COSMO-2830: Add dark mode utility
- Update postcss plugins

## v14.1.0
### Changed
- COSMO-2773: Remove important on site background for forced dark mode support

## v14.0.0
### Changed
- HEXA-876: Alphabetised sports colours
- HEXA-876: Standardised PL and ESL var names to be under football, left current vars as aliases for compatibility
### Removed
- HEXA-876: uk sport specific vars file
- HEXA-876: de sport specific vars file
### Added
- HEXA-876: unified sports var file
- HEXA-876: some missing sports brand colours, more to come once confirmed

## v13.12.0
### Removed
- HEXA-1334: Removed skin file for `sdc-digrev-header`
HEXA-1334: Aligned DE brand colours to match uk sport (brand 1, 2, & 3)

## v13.11.0
### Added
- Show and hide variables for light and dark mode

## v13.10.1
### Changed
- Update tennis local nav colour

## v13.10.0
### Changed
- Update service worker to ignore images from Chartbeat image testing
### Fixed
- Rendering bug in `section-wrap` class

## v13.9.0
### Changed
- Update site-au selector to include `leaderboard-spacer`

## v13.8.0
### Changed
- Added `outbrain.com` to the list of whitelisted domains to not lazy load images from. 

## v13.7.1
### Fixed
- Election declared/undeclared colors in dark mode

## v13.7.0
### Added
- Election color vars
- New global font and spacing vars
- New css utility classes for fonts and spacing

## v13.6.0
### Fixed
- Adding new `window.sdc.executeConsentByElement` to `check-consent.js`

## v13.5.0
### Added
- COSMO-2446: Adds support for consent roadblock

## v13.4.0
### Fixed
- `checkConsent` helper to handle `null` being passed for `rootElement`

## v13.3.0
### Added
- HEXA-1080: New DE variables
- HEXA-1113: Subnav underline colour override for DE

## v13.2.1
### Fixed
- Converting `result.map` to string to support newer Node.js versions

## v13.2.0
### Added
- `checkConsent` helper function

## v13.1.0
### Added
- Device detection classes `ui-is-in-app`, `ui-is-mobile` and `ui-is-desktop`

## v13.0.0
### :bangbang: BREAKING CHANGES :bangbang:
- Extends and legacy sass settings removed from several components
- v13.0.0 requires various component upgrades:
  - v4.0.0 of blackjack-sdc-site-header
  - v2.0.0 of blackjack-sdc-site-pundits
  - v4.0.0 of blackjack-sdc-site-share
  - v6.0.0 of blackjack-sdc-site-tiles
  - v2.0.0 of blackjack-sdc-article-author

### Changed
- Color palette and settings changes for dark mode
- New vars file with dark mode palette

## v12.2.2
### Fixed
- COSMO-2143: takeover ad fix margin-bottom

## v12.2.1
### Fixed
- Typos in changelog (missing version)

## v12.2.0
### Added
- Scripts for copying UI graphics management

## v12.1.0
### Changed
- COSMO-2143: Add margin when takeover ad

## v12.0.1
### Changed
- SSW-5444: Changed Women's Super League primary colour

## v12.0.0
### Removed
- Removed support for css vars in IE11. This has been moved to the `ui-goodb-ie` component [BREAKING]
- :bangbang: **Requires the `ui-goodb-ie` component** :bangbang:

## v11.3.0
### Changed
- SSW-5413: Updated boxing theme for rebrand

## v11.2.0
### Added
- Added new Women's Super League primary colour

## v11.1.0
### Added
- HEXA-792: Added red dot styles as an atom in utilities.scss

## v11.0.1
### Fixed
- INC1790824: Live background colour for in progress matche header score blocks

## v11.0.0
### Changed
- Breaking change - requires v4.0.0+ of `sdc-article-tags`
- Simplified CSS for default tags alignment
- Color of article tags is now `--link-color` for all sites

## v10.1.0
### Added
- Support for components starting with "ui-"
- More careful support for unskinned tables

## v10.0.2
### Fixed
- Issues with amp padding and colors in related stories component
- Fixed issue with project one site header causing horiizontal scrollbars in some scenarios

## v10.0.1
### Fixed
- Reenable cssnano's calc minification to prevent IE11 bugs

## v10.0.0
### Changed
- Convert significance tags to use vars
- Add significance tag markup as ui atom (advised but not essential to update `sdc-artifical-significance` to v2.0.0)
- Convert more sass and silent extends to css vars and regular classes

## v9.1.0
### Added
- SSW-5140: Added The Hundred theme

## v9.0.1
### Changed
- Disabled cssnano's calc() minification feature which was causing extra debugging output on uk-sport

## v9.0.0
### Changed
- Breaking change: This will break `sdc-liveblog` unless it is updated to at least v4.0.0
- Removed `sky-toolkit-core` and `sky-toolkit-ui` dependencies which were out of date, causing errors, and only included ein case they were used on sdv-liveblog

## v8.8.0
### Changed
- Breaking change: This will break `sdc-liveblog` unless it is updated to at least v3.7.1
- `_sdc-article-image.scss` file for setting the width and padding on article images, to fix additional padding added on mobile devices

## v8.7.0
### Added
- Added colour and background colour for `Podcast` Significance

## v8.6.0
### Added
- `_utilities.scss` file for storing useful global styles eg. visually-hidden styling etc

## v8.5.0
### Added
- Add Sky Headline font

## v8.4.0
### Changed
- Moved localnav shadow to sticky element for feature articles

## v8.3.4
### Changed
- Amended trending component styles for use with compact trending layout

## v8.3.3
### Added
- SSW-4648: Add overflow-anchor: none; to html tag

## v8.3.2
### Changed
- Change site-wrap-basic for larger width screens

## v8.3.1
### Fixed
- Issues with base scaling vars with static css vars compiler

## v8.3.0
### Fix
- Fix bug created from v8.1.0 - skip editing queryString position if it exists more than once in src

## v8.2.0
### Added
- Sky Shorthand server to lazy-load bypass

## v8.1.0
### Added
- Fix INC1007674 by placing the queryString at the correct place for more complex URIs

## v8.0.0
### Added
- Add global css vars

### Changed
- Switch global sass values to css vars
- Switch amp values to css vars
- Remove sports specific vars

## v7.0.0
### Changed
- Moved width limiter for HRs into article body component

## v6.10.0
### Changed
- Added `images.outbrainimg.com` to the list of whitelisted domains to not lazy load images from. 

## v6.9.3
### Added
- key block showing all the icons used in the team line-up styling

## 6.9.2
### Fixed
- Fixed sticky ad negavie margin with skip links in place

## 6.9.1
### Fixed
- Fixed issue with Outbrain images not lazy loading - `INC0775599`

## 6.9.0
### Added
- Added `img.playbuzz.com` to the list of whitelisted domains to not lazy images from. 

## 6.8.0
### Changed
- Added amp relevant layout css from main site-layout file to amp specific version

## 6.7.0
### Changed
- Added webp images to lazy images service worker

## 6.6.2
### Changed
- Use config option on cssvariables step in sass build script to enable css vars

## 6.6.1
### Added
- Heading styles for match stats team names

## 6.6.0
### Changed
- Bump `amphtml-validator` to `1.0.28` to fix the following issue: https://github.com/ampproject/amphtml/issues/25188
- Updated `validate-amp-css.js` to work with `amphtml-validator@1.0.28`
### Added
- Ability to validate multiple amp css files in `validate-amp-css.js` for scenario where apps separate amp css for different article types to minimise amp css file size.

## 6.5.0
### Added
- Added colour and background colour for `explainer` Significance

## 6.4.0
### Added
- Updated list of themes

# 6.3.0
### Changed
- Adds glass box exclusion for in article opta widgets

## 6.2.0
### Added
- Additional negative margin rule for new sticky leaderboard

## 6.1.1
### Changed
- Removed `.sdc-site-team-lineup__header` overrides from skin file

## 6.1.0
### Added
- Added `data.shorthand.com` to the list of whitelisted domains to not lazy images from. 

## 6.0.0
### Added
- Premier league and football fonts
- New glass box extend
- New MPU column breakpoint
- Scope site-wrap-basic to use MPu breakpoint

### Changed
- Width limiters on article to accomodate new 2 col layout

## 5.8.0
### Added
- Added `sdc-base-element-filter.js` component that filters elements matching a provided set of rules

## 5.7.0
### Added
- Added New Font `sky-display-medium.woff`
- Updated html:color: #333 to #4a4a4a as per designâ€™s request
- Updated CHANGELOG with 5.3.0 details

## 5.6.0
### Added
- Limited width for default`<hr>` elements used in the article body

## 5.5.0
### Changed
- Renaming Docker Registry from 'registry.vdc.sky' to 'registry.fluidcloud.bskyb.com'

## 5.4.0
### Added
- Ability for site tiles to have smaller margin when followed by load more button

## 5.3.1
### Fixed
- Made twimg domain less restrictive to include new subdomains of twimg (abs, pbs).

## 5.3.0
### Added
- Updated Gitlab CI file with Artifactory step

## 5.2.2
### Added
- Colour and background colour for newly added Significance

## 5.2.1
### Changed
- Moved significance style to `sdc-article-significance` component

## 5.2.0
### Added
- Adding `_sdc-site-author-header.scss`
- Adding `_sdc-site-information-list.scss`

## 5.1.0
### Added
- Clean pre-processed templates

## 5.0.0
### Changed
- Replaced `sdc-site-tile__significance` css class with `sdc-article-significance`
- Moved `sdc-article-tags` styles into `_sdc-site-tags.scss`
- Parameterised `font-weight`'s value of `.sdc-article-tags__title`

## 4.14.0
### Added
- Build script to allow building/minification of generic `vendorjs` scripts specified in app package.json
- Ability to override default font paths

## 4.13.1
### Changed
- Security fix - Bumped `npm-run-all` version to resolve security issues around its dependencies

## 4.13.0
### Changed
- Added support for eyewitness significance tag

## 4.12.1
### Changed
- Changed z-index value in settings to be compatible with third party survey css

## 4.12.0
### Changed
- Spacing rules between digrev header (for skysports) and section wrap
- Spacing rules for full bleed leaderboard advert in various scenarios

## 4.11.1
### Fixed
- Default brand colour for `sdc-article-tags` buttons
- Default brand colour for `sdc-site-load-more` buttons

## 4.11.0
### Added
- Changes to allow share icons to be displayed at the top of an article.

## 4.10.0
### Added
- Added condition for margin between article title and stand first to allow margin when stand first is below title

## 4.9.0
### Added
- Better debug when CSS fails to build and generates an error
- Spacing rules for localnav when following digrev header (for skysports)

## 4.8.2
### Added
- second patch for cut-off breaking new and leaderboard under the header on mobile as `aria-hidden` label was set to true on DE mobile now

## 4.8.1
### Changed
- Added patch for cut-off breaking new and leaderboard under the header on mobile

## 4.8.0
### Changed
- Added support for Sky News header/Advert combo

## 4.7.1
### Changed
- Add mobile tiles container for grouping content on special feature pages

## 4.7.0
### Changed
- Change `site-component-vertical-margin` to have padding if it's the last child

## 4.6.1
### Changed
- updated formation info

## 4.6.0
### Added
- New component skin files
- Mobile container extend

## 4.5.0
### Added
- Default listing page load more counter increment to 6

## 4.4.0
### Added
- AMP CSS validator script

## 4.3.1
### Fixed
- Fixes spacing on feature article header

## 4.3.0
### Added
- `renderIcon` helper
- `sdc-project-icons` as a dependency
- `sdc-toolbelt` docker image now points at `registry.vdc.sky`

## 4.2.5
### Fixed
- Fixes `INC2328299` by bypassing lazy loading for storify images

## 4.2.4
### Fixed
- Negative margin bug

## 4.2.2
### Fixed
- Added negative margin to .content-wrap to remove gap after header

## 4.2.1
### Fixed
- Fixes `INC2260770` by bypassing lazy loading for twitter images

## 4.2.0
### Added
- Base styles for sdc-article-related-stories component

## 4.1.2
### Fixed
- JS-based images (e.g. Gallery) using data-srcset are now supported by the lazy-load scripts

### Deprecated
- Flagged `/js/modules/components/lazy-images.js` for removal in v.5.0

## 4.1.1
### Fixed
- Images from referring AMP pages now bypass lazy images service worker

## 4.1.0
### Added
- Added ability to specify files to copy in build tools
- Added formations config file for apps to consume

## 4.0.0
### Changed
- Moved AMP width limiter to page wrap component so the styling is in only one place

## 3.3.0
### Changed
- Added base styling for new strapline widget
- Added base styling for AMP strapline widget

## 3.2 (2017-10-06)
### Changed
- Fix/res competition heading link styling

## [3.1.1]
## Changed
- Fix calls to initialise modules that are already defined

## [3.1.0]
## Added
- Default skin for widget placeholder

## [3.0.0]
## Added
- Add amp base and component styles and update build tools

## [2.16.0]
## Added
- Add webpack loader location for component node modules
- Error/Warnings logging for webpack processing of components when building

## [2.15.3]
### Changed
- Swapped node-sass-globbing to node-sass-magic-importer due to buggy behavior in some scenarios

## [2.15.0]
### Added
- Sky text fonts and build scripts to add to consuming project
- Add share head js scripts and build tools to add to consuming project

### Changed
- Fix broken source map paths for head and require.js

## [2.14.5]
### Changed
- Allows the ability specify fingerprints file path

## [2.14.4]
### Changed
- Set focus link outline to be inset by -2px, to ensure it is visible on elements set to overflow hidden
- Use correct color for live labels

## [2.14.3]
### Changed
- Ensure hover underlines do not appear on devices with touch screens (that support hover media queries)

## [2.14.2]
### Changed
- Fix minor bug with rendering of significance tags in Safari.

## [2.14.1]
### Changed
- Tweak lazy images service worker so it doesn't block images viewed directly in the browser

## [2.14.0]
### Added
- Body lock js to handle scroll disabling when the data-body-locked attribute is added to the body tag.

## [2.13.0]
### Changed
- Refactor link underlines to always use text-decoration: underline for consistency and simplicity

## [2.12.1]
### Fixed
- `sdc-site-opta-widget` heading styles updated to be more inline with fixres/component-header styles

## [2.12.0]
### Added
- JS version of `interpolate` helper used in packages
### Changed
- Remove global word-wrap: break-word - set this per component instead.

## [2.11.0]
### Added
- Optional `sdc-site-message--box` modifier to add glints box to message component
- Fixres header styles to opta tennis widget

## [2.10.1]
### Changed
- Adding horizontal viewport check to lazy images, for images in components such as galleries.

## [2.10.0]
### Added
- Add component skin styles for `sdc-article-author`

## [2.9.2]
### Changed
- FixRes Promo changes

## [2.9.1]
### Changed
- Set the global font aliasing for Firefox on Mac

## [2.9.0]
### Added
- Added writing AMP styles into a template

## [2.8.0]
### Added
- Add component skin styles for gallery

### Changes
- `build-blackjack-js.js` no longer minifies, as we are also asking requirejs to minify, confusing the source mapping

## [2.7.0]
### Changed
- Render file now will return an empty string instead of the boolean false

### Added
- Text-decoration-skip: ink to global styles

## [2.6.0]
### Changed
- Support for specifying absolute urls in the require config via baseUrl
- Add extra margin top and bottom to message component
- Added more test coverage

## [2.5.0]
### Added
- Tests folder
- Test coverage for lazy images and component loader
- Body class to support having a plain white site background for use when within an iframe
- Limit handlebars helper

### Changed
- Exclude twitter images from lazy images script
- Use text-decoration underline and text-decoration-skip: ink on %sdc-ui-bullet-list

## [2.4.8]
### Changed
- Fix lazy images script not formating the querystring correctly on 2nd and 3rd source tags

## [2.4.7]
### Changed
- Fix cssnano stripping out the www from css urls.

## [2.4.6]
### Changed
- Remove trailing ampersands when appending querystring in lazy images script

## [2.4.5]
### Changed
- Fix margins on localnav and articles in mobile view

## [2.4.4]
### Changed
- Use interaction media queries to remove hover styles on touch for main nav, localnav and tiles

## [2.4.3]
### Changed
- Liveblog video css fixes

## [2.4.2]
### Changed
- Allowing for full bleed videos & images in default component styles
- Removed superfluous caption styles from image skin base
- Separated site-wrap-basic-width to allow flexibility

## [2.4.1]
### Changed
- Remove !importants from button mixin (for AMP compatibility)
- Add top margin when .sdc-site-au--sponsor-position-container immediately follows the site header on mobile

## [2.4.0]
### Changed
- Share styling when following a video component
- Revert to browser default focus styles

### Added
- Lazy images service worker and js module
- Add link and button styles to strapline

## [2.3.0]
### Changed
- Tweak tiles margin when inside section-wrap
- Set z-index on header to be higher than footer
- Fix judder when takeover advert is empty

### Added
- More hover styles to components
- Block underline nav style as mixin
- Global button mixin
- Margins when tables are stacked directly on top of each other

## [2.2.0]
### Added
- Build tools from main UK/DE project

## [2.1.0]
### Added
- Caption ui extend
- Widgets skin file to set widget widths

## [2.0.1]
### Changed
- Various tweaks to site wrappers for article based content like live blogs

### Added
- Extends for sponsor container width

## [2.0.0]
### Changed
- deblackjackified
    - factbox
    - strapline
    - article-header
    - article-image
    - article-livetext
    - article-quote
    - article-tags
    - breaking-news
    - component-header
    - site-directory
    - site-filter
    - site-fixres
    - last-games
    - listing-details
    - load-more
    - localnav
    - match-header
    - match-stats
    - opta-widget
    - site-au
    - site-pundits
    - site-table
    - site-tabs
    - team-lineup
    - site-tiles
- Seperate site-wrap into site-wrap and site-wrap-padding extends
- Remove quote variables that disable border

## [1.1.3]
### Added
- Article body width extends to article header

## [1.1.2]
### Added
- Row hover colors for fixtures, tables and site directory
- Opta widget extends
- Auth manager skin

## [1.1.1]
### Added
- Z-index values to manage layering of content, menus, adverts and overlays

## [1.1.0]
### Added
- Handlebars helpers

### Changed
- Remove gap between site header and takeover advert

## [1.0.11]
### Added
- Global mobile scss file
- Word-wrap: break-word globally
- Added large z-index value for footer to prevent clashes with takeover ads

### Changed
- Footer hover link styles

## [1.0.10]
### Added
- Add advert takeover listener

### Changed
- Pass correct red color through to live labels

## [1.0.9]
### Changed
- Modify live on sky skin to use a lighter color scheme

## [1.0.8]
### Added
- Error page styling and extends

## [1.0.7]
### Changed
- Remove glints extend from article-video

### Added
- Text size options in article-video

## [1.0.6]
### Changed
- Multiple light colored text labels that don't meet AA color contrast guidelines changed to #707070

## [1.0.5]
### Added
- More styling options for trending
- More options in section-wrap for article like text columns

## [1.0.4]
### Added
- Underline styles for trending

## [1.0.3]
### Added
- Extends and styles for trending component

## [1.0.2]
### Changed
- Move nav and header margins plus exceptions into global.scss
- Use deblackjackified values for sdc-site-header

## [1.0.1]
### Changed
- Added hovers to digrev footer and mobile nav to match current live skysports site

## [1.0.0]
### Changed
- Commented out console messages

## [0.2.9]
### Changed
- Add hover effect on digrev dropdown menus to match live

## [0.2.8]
### Changed
- Global font color to #333

## [0.2.7]
### Changed
- Set digrev header z-index to high value in defense against takeover ads
- Set value for site-component-vertical-margin-s

## [0.2.6]
### Changed
- Change order of toolkit dependencies to match latest version

## [0.2.5]
### Changed
- Move digrev header extends into project

## [0.2.4]
### Changed
- Fixed broken not selector in component-header

## [0.2.3]
### Changed
- Fixed underline appearing when link is on an image in component-header
- Added site width extend in component-header

## [0.2.2]
### Changed
- Fixed multiple values not using the default flag

## [0.2.1]
### Changed
- move component-loader js to /modules/components

## [0.2.0]
### Added
- JS modules folder
- component-loader js file

## [0.1.0]
### Added
- JS folder
- Latest require js library to /js/vendor/
- CHANGELOG.md
