/**
 * Looks up the passed key in translations/en.json
 * and returns the translation if available
 *
 * @param {String} key The translation key to lookup
 * @return {String}
 */
function translate(key) {
  const translations = getTranslations();
  if (!translations) {
    return key;
  }

  return key.split('.').reduce((obj, i) => obj[i] || key, translations);
}

/**
 * Returns any translations installed in the component
 *
 * @return {Object}
 */
function getTranslations() {
  try {
    return require(`${process.cwd()}/translations/en.json`);
  } catch(e) {
    return {};
  }
}

module.exports = translate;
