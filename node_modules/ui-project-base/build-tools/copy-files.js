var fse = require('fs-extra');
var path = require('path');
var clc = require('cli-color');

var ROOT = path.resolve(process.cwd());
var PACKAGE = require(path.join(ROOT, 'package.json'));
var packageFiles = [];

// Process any files that should be copied in the package file
if (PACKAGE['config']['project-base'] && PACKAGE['config']['project-base']['files']) {
  PACKAGE['config']['project-base']['files'].forEach(function(file) {
    if (!file.copy || !file.to) {
      return;
    }

    fse.copy(path.join(ROOT, file.copy), path.join(ROOT, file.to), err => {
      if (err) return console.error(err)
      console.log(clc.green('File Copied:', path.join(ROOT, file.to)));
    });
  });
}
